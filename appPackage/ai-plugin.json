{
  "$schema": "https://developer.microsoft.com/json-schemas/copilot/plugin/v2.2/schema.json",
  "schema_version": "v2.2",
  "name_for_human": "Bloxs Real Estate",
  "description_for_human": "Connect to Bloxs real estate software to query properties, tenants, contracts, and maintenance.",
  "description_for_model": "Query Bloxs real estate data (read-only). Use getUnits for properties, getOwners for owners, getSalesContracts for contracts, getServiceTickets for maintenance. Use OData $filter, $select, $top parameters.",
  "namespace": "bloxs",
  "logo_url": "https://www.bloxs.com/wp-content/uploads/2024/06/logo.png",
  "legal_info_url": "https://www.bloxs.com/privacyverklaring/",
  "privacy_policy_url": "https://www.bloxs.com/privacyverklaring/",
  "functions": [
    {
      "name": "getUnits",
      "description": "Get rental units (apartments, offices, retail). Use $filter=OccupationPercentage lt 1 for vacant units."
    },
    {
      "name": "getBuildings",
      "description": "Get buildings (standalone properties). Filter by OwnerId for owner-specific properties."
    },
    {
      "name": "getComplexes",
      "description": "Get complexes (collections of units). Check OccupationPercentage for vacancy."
    },
    {
      "name": "getCommercialOverview",
      "description": "Quick portfolio overview with tenant, owner, rent info. No joins needed."
    },
    {
      "name": "getOwners",
      "description": "Get property owners with contact info and RelationId."
    },
    {
      "name": "getPersons",
      "description": "Get persons (tenants, contacts). Use RelationId to link to contracts."
    },
    {
      "name": "getRelations",
      "description": "Base table for all relation types (persons, organisations, suppliers)."
    },
    {
      "name": "getSalesContracts",
      "description": "Get rent contracts. Use IsEnded eq false for active contracts."
    },
    {
      "name": "getSalesContractRealestateObjects",
      "description": "Link table between SalesContracts and Units/Properties."
    },
    {
      "name": "getSalesContractLineItems",
      "description": "Rent line items with amounts per property. Contains RealEstateObjectName."
    },
    {
      "name": "getServiceTickets",
      "description": "Maintenance tickets. First query getServiceTicketStates for valid state names."
    },
    {
      "name": "getServiceTicketStates",
      "description": "Valid ticket states (tenant-specific names). Query first for filtering tickets."
    },
    {
      "name": "getFinancialMutations",
      "description": "Ledger transactions. Always use $filter and $top<=100. Source for mortgage data."
    },
    {
      "name": "getLedgerAccounts",
      "description": "Chart of accounts. Use contains(Name,'hypothe') to find mortgage account codes."
    },
    {
      "name": "getSalesInvoices",
      "description": "Sales invoices to tenants. Filter by FinancialYear."
    },
    {
      "name": "getPurchaseInvoices",
      "description": "Purchase invoices from suppliers. Key for cost analysis per property."
    },
    {
      "name": "getOpenPositionDebtors",
      "description": "Debtor aging report. Outstanding amounts from tenants with Age field."
    },
    {
      "name": "getPropertyValuationValues",
      "description": "WOZ values. Filter by ValuationYear eq 2025. Contains RealEstateObjectName."
    },
    {
      "name": "getTheoreticalRentItems",
      "description": "Potential/market rent per property for vacancy impact analysis."
    },
    {
      "name": "getInstallations",
      "description": "Equipment and installations with NextMaintenanceOn for planning."
    },
    {
      "name": "getMeters",
      "description": "Utility meters (electricity, gas, water) per property."
    },
    {
      "name": "getMeterReadings",
      "description": "Meter reading values over time. Link via MeterId."
    },
    {
      "name": "getTasks",
      "description": "System tasks and reminders with Deadline field."
    },
    {
      "name": "getNotes",
      "description": "Notes attached to entities. Filter by EntityLinkType and EntityId."
    },
    {
      "name": "getOwnerSettlements",
      "description": "Owner settlements/statements (afrekeningen) per period."
    }
  ],
  "runtimes": [
    {
      "type": "OpenApi",
      "auth": {
        "type": "ApiKeyPluginVault",
        "reference_id": "${{BLOXS_API_KEY_REFERENCE}}"
      },
      "spec": {
        "url": "bloxs-openapi.yaml"
      },
      "run_for_functions": [
        "getUnits",
        "getBuildings",
        "getComplexes",
        "getCommercialOverview",
        "getOwners",
        "getPersons",
        "getRelations",
        "getSalesContracts",
        "getSalesContractRealestateObjects",
        "getSalesContractLineItems",
        "getServiceTickets",
        "getServiceTicketStates",
        "getFinancialMutations",
        "getLedgerAccounts",
        "getSalesInvoices",
        "getPurchaseInvoices",
        "getOpenPositionDebtors",
        "getPropertyValuationValues",
        "getTheoreticalRentItems",
        "getInstallations",
        "getMeters",
        "getMeterReadings",
        "getTasks",
        "getNotes",
        "getOwnerSettlements"
      ]
    }
  ],
  "capabilities": {
    "conversation_starters": [
      {
        "text": "Show me an overview of our real estate portfolio"
      },
      {
        "text": "Find all open maintenance tickets"
      },
      {
        "text": "List all vacant rental units"
      },
      {
        "text": "Show contracts expiring soon"
      },
      {
        "text": "What are the WOZ values of our properties?"
      }
    ]
  }
}

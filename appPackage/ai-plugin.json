{
  "$schema": "https://developer.microsoft.com/json-schemas/copilot/plugin/v2.2/schema.json",
  "schema_version": "v2.2",
  "name_for_human": "Bloxs Real Estate",
  "description_for_human": "Connect to Bloxs real estate software to query properties, tenants, contracts, and maintenance.",
  "description_for_model": "Query Bloxs real estate data (read-only) via OData. Prefer targeted queries using $select and small $top. For cross-entity reasoning, use join/link endpoints like getSalesContractRealestateObjects, getSalesInvoiceLines, and getPurchaseInvoiceLines. Status/state/workflow labels are tenant-specific: discover valid values first (e.g., getServiceTicketStates) before filtering.",
  "namespace": "bloxs",
  "logo_url": "https://www.bloxs.com/wp-content/uploads/2024/06/logo.png",
  "legal_info_url": "https://www.bloxs.com/privacyverklaring/",
  "privacy_policy_url": "https://www.bloxs.com/privacyverklaring/",
  "functions": [
    {
      "name": "getUnits",
      "description": "Get rental units (apartments, offices, retail). For vacancy, use $filter=OccupationPercentage lt 1 AND cross-check ActiveContractRentId/ActiveContractRentTenantId; do not conclude vacancy from OccupationPercentage alone."
    },
    {
      "name": "getBuildings",
      "description": "Get buildings (standalone properties). Filter by OwnerId for owner-specific properties."
    },
    {
      "name": "getComplexes",
      "description": "Get complexes (collections of units). Check OccupationPercentage for vacancy."
    },
    {
      "name": "getCommercialOverview",
      "description": "Quick portfolio overview with tenant, owner, rent info. No joins needed."
    },
    {
      "name": "getCommercialOverviewSpecific",
      "description": "Extended commercial overview (superset) for deeper analysis fields like energy label and theoretical rent."
    },
    {
      "name": "getRealEstateObjects",
      "description": "Base real estate object table across Units/Buildings/Complexes/Sections. Useful for generic lookups and joins."
    },
    {
      "name": "getSections",
      "description": "Sections within complexes. Useful for hierarchical portfolio views."
    },
    {
      "name": "getAddresses",
      "description": "Addresses (street/city/postal code, coordinates). Useful for enriching relations and geodata."
    },
    {
      "name": "getOwners",
      "description": "Get property owners with contact info and RelationId."
    },
    {
      "name": "getPersons",
      "description": "Get persons (tenants, contacts). Use RelationId to link to contracts."
    },
    {
      "name": "getRelations",
      "description": "Base table for all relation types (persons, organisations, suppliers)."
    },
    {
      "name": "getSalesContracts",
      "description": "Get rent contracts. Use IsEnded eq false for active contracts."
    },
    {
      "name": "getSalesContractRealestateObjects",
      "description": "Link table between SalesContracts and Units/Properties."
    },
    {
      "name": "getSalesContractLineItems",
      "description": "Rent line items with amounts per property. Contains RealEstateObjectName."
    },
    {
      "name": "getSalesContractLines",
      "description": "Contract lines linked to RealEstateObjectId. Use this for efficient contract history per unit/property: query by RealEstateObjectId (OR-filter for small sets), then fetch SalesContracts for the returned SalesContractId values."
    },
    {
      "name": "getServiceTickets",
      "description": "Maintenance tickets. First query getServiceTicketStates for valid state names."
    },
    {
      "name": "getServiceTicketStates",
      "description": "Valid ticket states (tenant-specific names). Query first for filtering tickets."
    },
    {
      "name": "getServiceTicketProblemCategories",
      "description": "Ticket problem categories (tenant-specific). Discover valid category labels/ids before filtering tickets."
    },
    {
      "name": "getServiceTicketCostCategories",
      "description": "Ticket cost categories (tenant-specific). Useful for maintenance cost classification."
    },
    {
      "name": "getFinancialMutations",
      "description": "Ledger transactions. Always use $filter and $top<=100. Source for mortgage data."
    },
    {
      "name": "getLedgerAccounts",
      "description": "Chart of accounts. Use contains(Name,'hypothe') to find mortgage account codes."
    },
    {
      "name": "getSalesInvoices",
      "description": "Sales invoices to tenants. Filter by FinancialYear."
    },
    {
      "name": "getSalesInvoiceLines",
      "description": "Sales invoice line items. Use for property-level allocation and ledger breakdown; filter by SalesInvoiceId."
    },
    {
      "name": "getPurchaseInvoices",
      "description": "Purchase invoices from suppliers. Key for cost analysis per property."
    },
    {
      "name": "getPurchaseInvoiceLines",
      "description": "Purchase invoice line items. Use when header lacks property info; filter by PurchaseInvoiceId."
    },
    {
      "name": "getOpenPositionDebtors",
      "description": "Debtor aging report. Outstanding amounts from tenants with Age field."
    },
    {
      "name": "getOpenPositionCreditors",
      "description": "Creditor aging report. Outstanding amounts to suppliers with Age field."
    },
    {
      "name": "getFinancingContracts",
      "description": "Financing contracts (loans/mortgages). Often empty; for mortgages prefer LedgerAccounts + FinancialMutations."
    },
    {
      "name": "getPropertyValuationValues",
      "description": "WOZ values. Filter by ValuationYear eq 2025. Contains RealEstateObjectName."
    },
    {
      "name": "getTheoreticalRentItems",
      "description": "Potential/market rent per property for vacancy impact analysis."
    },
    {
      "name": "getInstallations",
      "description": "Equipment and installations with NextMaintenanceOn for planning."
    },
    {
      "name": "getMeters",
      "description": "Utility meters (electricity, gas, water) per property."
    },
    {
      "name": "getMeterReadings",
      "description": "Meter reading values over time. Link via MeterId."
    },
    {
      "name": "getTasks",
      "description": "System tasks and reminders with Deadline field."
    },
    {
      "name": "getNotes",
      "description": "Notes attached to entities. Filter by EntityLinkType and EntityId."
    },
    {
      "name": "getOwnerSettlements",
      "description": "Owner settlements/statements (afrekeningen) per period."
    }
  ],
  "runtimes": [
    {
      "type": "OpenApi",
      "auth": {
        "type": "ApiKeyPluginVault",
        "reference_id": "${{BLOXS_API_KEY_REFERENCE}}"
      },
      "spec": {
        "url": "bloxs-openapi.yaml"
      },
      "run_for_functions": [
        "getUnits",
        "getBuildings",
        "getComplexes",
        "getCommercialOverview",
        "getCommercialOverviewSpecific",
        "getRealEstateObjects",
        "getSections",
        "getAddresses",
        "getOwners",
        "getPersons",
        "getRelations",
        "getSalesContracts",
        "getSalesContractRealestateObjects",
        "getSalesContractLineItems",
        "getSalesContractLines",
        "getServiceTickets",
        "getServiceTicketStates",
        "getServiceTicketProblemCategories",
        "getServiceTicketCostCategories",
        "getFinancialMutations",
        "getLedgerAccounts",
        "getSalesInvoices",
        "getSalesInvoiceLines",
        "getPurchaseInvoices",
        "getPurchaseInvoiceLines",
        "getOpenPositionDebtors",
        "getOpenPositionCreditors",
        "getFinancingContracts",
        "getPropertyValuationValues",
        "getTheoreticalRentItems",
        "getInstallations",
        "getMeters",
        "getMeterReadings",
        "getTasks",
        "getNotes",
        "getOwnerSettlements"
      ]
    }
  ],
  "capabilities": {
    "conversation_starters": [
      {
        "text": "Show me an overview of our real estate portfolio"
      },
      {
        "text": "Find all open maintenance tickets"
      },
      {
        "text": "List all vacant rental units"
      },
      {
        "text": "Show contracts expiring soon"
      },
      {
        "text": "What are the WOZ values of our properties?"
      }
    ]
  }
}

openapi: 3.0.3
info:
  title: Bloxs Real Estate OData API
  description: |
    OData API for connecting to Bloxs real estate management software. 
    Bloxs is a powerful real estate accounting platform for property management, 
    including relations, real estate objects, contracts, maintenance, and invoices.
    
    ## OData Query Support
    This API supports standard OData query parameters:
    - **$filter**: Filter results (e.g., `OccupationPercentage lt 1`, `ManagementState eq 'UnderManagement'`)
    - **$select**: Select specific properties to return
    - **$orderby**: Sort results by properties
    - **$top**: Limit the number of results returned
    - **$skip**: Skip a number of results for pagination
    - **$count**: Include total count of matching results
    - **$expand**: Expand related entities
    
    ## Read-Only Access
    This API provides read-only access to Bloxs data.
  version: "1.0.0"
  contact:
    name: Bloxs Software Support
    email: support@bloxs.com
    url: https://www.bloxs.com
servers:
  - url: https://bloxsproxy.garfieldapp.workers.dev/odatafeed
    description: Bloxs OData Proxy (via Cloudflare Worker)
security:
  - bloxsApiKey: []
paths:
  # ==================== RELATIONS ====================
  /Relations:
    get:
      operationId: getRelations
      summary: Get Relations
      description: Retrieve all relations (tenants, contacts, counterparties)
      tags:
        - Relations
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/expand'
      responses:
        '200':
          description: OData response with list of relations
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /Persons:
    get:
      operationId: getPersons
      summary: Get Persons
      description: Retrieve all persons (individuals, contact persons)
      tags:
        - Relations
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/expand'
      responses:
        '200':
          description: OData response with list of persons
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /Owners:
    get:
      operationId: getOwners
      summary: Get Owners
      description: Retrieve all property owners. Each owner has their own financial administration.
      tags:
        - Relations
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/expand'
      responses:
        '200':
          description: OData response with list of owners
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  # ==================== REAL ESTATE OBJECTS ====================
  /RealEstateObjects:
    get:
      operationId: getRealEstateObjects
      summary: Get Real Estate Objects
      description: Retrieve all real estate objects (buildings, complexes, units)
      tags:
        - RealEstateObjects
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/expand'
      responses:
        '200':
          description: OData response with list of real estate objects
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /Buildings:
    get:
      operationId: getBuildings
      summary: Get Buildings
      description: Retrieve all buildings (standalone properties)
      tags:
        - RealEstateObjects
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/expand'
      responses:
        '200':
          description: OData response with list of buildings
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /Complexes:
    get:
      operationId: getComplexes
      summary: Get Complexes
      description: Retrieve all complexes (collections of rental units under one roof)
      tags:
        - RealEstateObjects
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/expand'
      responses:
        '200':
          description: OData response with list of complexes
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /Sections:
    get:
      operationId: getSections
      summary: Get Sections
      description: Retrieve all sections (parts of buildings for cost allocation)
      tags:
        - RealEstateObjects
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/expand'
      responses:
        '200':
          description: OData response with list of sections
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /Units:
    get:
      operationId: getUnits
      summary: Get Units
      description: |
        Retrieve all rental units (apartments, offices, retail spaces).
        
        Example filters:
        - `$filter=OccupationPercentage lt 1` - Find vacant units
        - `$filter=CategoryName eq 'Winkelruimte'` - Find retail spaces
        - `$top=10&$orderby=DisplayName` - Get first 10 units sorted by name
      tags:
        - RealEstateObjects
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/expand'
      responses:
        '200':
          description: OData response with list of units
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnitsResponse'

  # ==================== CONTRACTS ====================
  /SalesContracts:
    get:
      operationId: getSalesContracts
      summary: Get Sales Contracts
      description: Retrieve all sales (rent) contracts
      tags:
        - Contracts
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/expand'
      responses:
        '200':
          description: OData response with list of sales contracts
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /CommercialRentSalesContracts:
    get:
      operationId: getCommercialRentContracts
      summary: Get Commercial Rent Contracts
      description: Retrieve commercial rent contracts (offices, stores, commercial spaces)
      tags:
        - Contracts
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/expand'
      responses:
        '200':
          description: OData response with list of commercial rent contracts
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /PurchaseContracts:
    get:
      operationId: getPurchaseContracts
      summary: Get Purchase Contracts
      description: Retrieve purchase (supplier) contracts
      tags:
        - Contracts
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/expand'
      responses:
        '200':
          description: OData response with list of purchase contracts
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /SalesContractLineItems:
    get:
      operationId: getSalesContractLineItems
      summary: Get Sales Contract Line Items
      description: Retrieve line items from sales contracts (rent components, service costs)
      tags:
        - Contracts
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/expand'
      responses:
        '200':
          description: OData response with list of contract line items
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  # ==================== MAINTENANCE ====================
  /ServiceTickets:
    get:
      operationId: getServiceTickets
      summary: Get Service Tickets
      description: |
        Retrieve maintenance service tickets (read-only).
        
        Example filters:
        - `$filter=State eq 'Open'` - Find open tickets
        - `$orderby=CreatedDate desc` - Sort by creation date
      tags:
        - Maintenance
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/expand'
      responses:
        '200':
          description: OData response with list of service tickets
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /ServiceTicketStates:
    get:
      operationId: getServiceTicketStates
      summary: Get Service Ticket States
      description: Retrieve available service ticket states
      tags:
        - Maintenance
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
      responses:
        '200':
          description: OData response with list of states
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /ServiceTicketProblemCategories:
    get:
      operationId: getServiceTicketProblemCategories
      summary: Get Service Ticket Problem Categories
      description: Retrieve problem categories for service tickets
      tags:
        - Maintenance
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
      responses:
        '200':
          description: OData response with list of problem categories
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  # ==================== INVOICES & FINANCE ====================
  /SalesInvoices:
    get:
      operationId: getSalesInvoices
      summary: Get Sales Invoices
      description: Retrieve sales invoices (rent invoices sent to tenants)
      tags:
        - Finance
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/expand'
      responses:
        '200':
          description: OData response with list of sales invoices
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /PurchaseInvoices:
    get:
      operationId: getPurchaseInvoices
      summary: Get Purchase Invoices
      description: Retrieve purchase invoices (invoices from suppliers)
      tags:
        - Finance
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/expand'
      responses:
        '200':
          description: OData response with list of purchase invoices
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /Journals:
    get:
      operationId: getJournals
      summary: Get Journals
      description: Retrieve financial journals
      tags:
        - Finance
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/expand'
      responses:
        '200':
          description: OData response with list of journals
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /JournalPostTransactions:
    get:
      operationId: getJournalPostTransactions
      summary: Get Journal Post Transactions
      description: Retrieve journal posting transactions
      tags:
        - Finance
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/expand'
      responses:
        '200':
          description: OData response with list of transactions
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /LedgerAccounts:
    get:
      operationId: getLedgerAccounts
      summary: Get Ledger Accounts
      description: Retrieve chart of accounts (ledger accounts)
      tags:
        - Finance
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with list of ledger accounts
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /OpenPositionDebtors:
    get:
      operationId: getOpenPositionDebtors
      summary: Get Open Debtor Positions
      description: Retrieve open positions for debtors (outstanding receivables)
      tags:
        - Finance
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/expand'
      responses:
        '200':
          description: OData response with open debtor positions
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /OpenPositionCreditors:
    get:
      operationId: getOpenPositionCreditors
      summary: Get Open Creditor Positions
      description: Retrieve open positions for creditors (outstanding payables)
      tags:
        - Finance
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/expand'
      responses:
        '200':
          description: OData response with open creditor positions
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  # ==================== ADDRESSES ====================
  /Addresses:
    get:
      operationId: getAddresses
      summary: Get Addresses
      description: Retrieve all addresses
      tags:
        - Common
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with list of addresses
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  # ==================== NOTES & TASKS ====================
  /Notes:
    get:
      operationId: getNotes
      summary: Get Notes
      description: Retrieve notes attached to entities (persons, organisations, properties). Use EntityLinkType and EntityId to filter.
      tags:
        - Notes
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with notes
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /Tasks:
    get:
      operationId: getTasks
      summary: Get Tasks
      description: Retrieve all tasks
      tags:
        - Notes
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with tasks
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  # ==================== RELATION DETAILS ====================
  /RelationContactPersons:
    get:
      operationId: getRelationContactPersons
      summary: Get Relation Contact Persons
      description: Retrieve contact persons linked to relations
      tags:
        - Relations
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with contact persons
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /RelationCommunicationForms:
    get:
      operationId: getRelationCommunicationForms
      summary: Get Relation Communication Forms
      description: Retrieve communication methods (email, phone) for relations
      tags:
        - Relations
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with communication forms
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /OwnerBankAccounts:
    get:
      operationId: getOwnerBankAccounts
      summary: Get Owner Bank Accounts
      description: Retrieve bank accounts for property owners
      tags:
        - Relations
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with bank accounts
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /SupplierTypes:
    get:
      operationId: getSupplierTypes
      summary: Get Supplier Types
      description: Retrieve supplier type categories
      tags:
        - Relations
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with supplier types
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  # ==================== REAL ESTATE DETAILS ====================
  /PropertyValuationValues:
    get:
      operationId: getPropertyValuationValues
      summary: Get Property Valuation Values
      description: Retrieve property valuations (WOZ values, market values)
      tags:
        - RealEstate
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with valuations
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /PropertyValuationTypes:
    get:
      operationId: getPropertyValuationTypes
      summary: Get Property Valuation Types
      description: Retrieve valuation type definitions
      tags:
        - RealEstate
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with valuation types
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /TheoreticalRentItems:
    get:
      operationId: getTheoreticalRentItems
      summary: Get Theoretical Rent Items
      description: Retrieve theoretical rent amounts for properties
      tags:
        - RealEstate
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with theoretical rent items
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /Meters:
    get:
      operationId: getMeters
      summary: Get Meters
      description: Retrieve utility meters (gas, electricity, water)
      tags:
        - RealEstate
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with meters
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /MeterReadings:
    get:
      operationId: getMeterReadings
      summary: Get Meter Readings
      description: Retrieve meter reading history
      tags:
        - RealEstate
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with meter readings
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /Installations:
    get:
      operationId: getInstallations
      summary: Get Installations
      description: Retrieve installations in properties (HVAC, elevators, etc.)
      tags:
        - RealEstate
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with installations
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /InstallationTypes:
    get:
      operationId: getInstallationTypes
      summary: Get Installation Types
      description: Retrieve installation type definitions
      tags:
        - RealEstate
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with installation types
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /Projects:
    get:
      operationId: getProjects
      summary: Get Projects
      description: Retrieve projects (renovation, development projects)
      tags:
        - RealEstate
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with projects
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /TeamMembers:
    get:
      operationId: getTeamMembers
      summary: Get Team Members
      description: Retrieve team members assigned to properties
      tags:
        - RealEstate
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with team members
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  # ==================== CONTRACT DETAILS ====================
  /SalesContractLine:
    get:
      operationId: getSalesContractLines
      summary: Get Sales Contract Lines
      description: Retrieve contract line details
      tags:
        - Contracts
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with contract lines
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /SalesContractRealestateObjects:
    get:
      operationId: getSalesContractRealestateObjects
      summary: Get Sales Contract Real Estate Objects
      description: Retrieve real estate objects linked to sales contracts
      tags:
        - Contracts
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with contract properties
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /SalesContractExtensionPeriods:
    get:
      operationId: getSalesContractExtensionPeriods
      summary: Get Sales Contract Extension Periods
      description: Retrieve contract extension period options
      tags:
        - Contracts
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with extension periods
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /IndexationMethods:
    get:
      operationId: getIndexationMethods
      summary: Get Indexation Methods
      description: Retrieve rent indexation methods
      tags:
        - Contracts
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with indexation methods
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /IndexationSeries:
    get:
      operationId: getIndexationSeries
      summary: Get Indexation Series
      description: Retrieve indexation series (CPI, etc.)
      tags:
        - Contracts
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with indexation series
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /IndexationSeriesValues:
    get:
      operationId: getIndexationSeriesValues
      summary: Get Indexation Series Values
      description: Retrieve historical indexation values
      tags:
        - Contracts
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with indexation values
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /FinancingContracts:
    get:
      operationId: getFinancingContracts
      summary: Get Financing Contracts
      description: Retrieve financing/loan contracts
      tags:
        - Contracts
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with financing contracts
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /PurchaseContractLines:
    get:
      operationId: getPurchaseContractLines
      summary: Get Purchase Contract Lines
      description: Retrieve purchase contract line items
      tags:
        - Contracts
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with contract lines
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  # ==================== MAINTENANCE DETAILS ====================
  /ServiceTicketCostCategories:
    get:
      operationId: getServiceTicketCostCategories
      summary: Get Service Ticket Cost Categories
      description: Retrieve cost categories for maintenance tickets
      tags:
        - Maintenance
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with cost categories
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  # ==================== INVOICE DETAILS ====================
  /SalesInvoiceLines:
    get:
      operationId: getSalesInvoiceLines
      summary: Get Sales Invoice Lines
      description: Retrieve line items from sales invoices
      tags:
        - Finance
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with invoice lines
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /PurchaseInvoiceLines:
    get:
      operationId: getPurchaseInvoiceLines
      summary: Get Purchase Invoice Lines
      description: Retrieve line items from purchase invoices
      tags:
        - Finance
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with invoice lines
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /BankAccounts:
    get:
      operationId: getBankAccounts
      summary: Get Bank Accounts
      description: Retrieve bank accounts
      tags:
        - Finance
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with bank accounts
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /Budgets:
    get:
      operationId: getBudgets
      summary: Get Budgets
      description: Retrieve budgets
      tags:
        - Finance
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with budgets
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /FinancialMutations:
    get:
      operationId: getFinancialMutations
      summary: Get Financial Mutations
      description: Retrieve financial mutations/transactions
      tags:
        - Finance
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with mutations
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /TaxRates:
    get:
      operationId: getTaxRates
      summary: Get Tax Rates
      description: Retrieve tax rate definitions (VAT rates)
      tags:
        - Finance
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with tax rates
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /OwnerSettlements:
    get:
      operationId: getOwnerSettlements
      summary: Get Owner Settlements
      description: Retrieve owner settlements (periodic financial settlements with property owners)
      tags:
        - Finance
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with settlements
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  # ==================== PURCHASE ORDERS ====================
  /PurchaseOrders:
    get:
      operationId: getPurchaseOrders
      summary: Get Purchase Orders
      description: Retrieve purchase orders
      tags:
        - Purchasing
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with purchase orders
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /PurchaseOrderLines:
    get:
      operationId: getPurchaseOrderLines
      summary: Get Purchase Order Lines
      description: Retrieve purchase order line items
      tags:
        - Purchasing
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with order lines
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /PurchaseCommitments:
    get:
      operationId: getPurchaseCommitments
      summary: Get Purchase Commitments
      description: Retrieve purchase commitments
      tags:
        - Purchasing
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with commitments
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  # ==================== WORK REGISTRATION ====================
  /WorkRegistrations:
    get:
      operationId: getWorkRegistrations
      summary: Get Work Registrations
      description: Retrieve work/time registrations
      tags:
        - Work
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with work registrations
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  # ==================== COMMERCIAL OVERVIEW ====================
  /CommercialOverview:
    get:
      operationId: getCommercialOverview
      summary: Get Commercial Overview
      description: Retrieve commercial portfolio overview
      tags:
        - Reports
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with commercial overview
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

  /ControlList:
    get:
      operationId: getControlList
      summary: Get Control List
      description: Retrieve control list items for auditing
      tags:
        - Reports
      parameters:
        - $ref: '#/components/parameters/filter'
        - $ref: '#/components/parameters/select'
        - $ref: '#/components/parameters/orderby'
        - $ref: '#/components/parameters/top'
        - $ref: '#/components/parameters/skip'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OData response with control list
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ODataResponse'

components:
  securitySchemes:
    bloxsApiKey:
      type: http
      scheme: bearer
      description: Bearer token for API authentication (JWT token obtained from Authorization endpoint)

  parameters:
    filter:
      name: $filter
      in: query
      description: |
        OData filter expression. Examples:
        - `OccupationPercentage lt 1` - Vacant units
        - `CategoryName eq 'Winkelruimte'` - Filter by category
        - `Owner eq 'Roks en Wals'` - Filter by owner name
      schema:
        type: string
    select:
      name: $select
      in: query
      description: Comma-separated list of properties to include
      schema:
        type: string
    orderby:
      name: $orderby
      in: query
      description: Sort by properties (e.g., `DisplayName asc`, `RentAmount desc`)
      schema:
        type: string
    top:
      name: $top
      in: query
      description: Maximum number of results to return
      schema:
        type: integer
        minimum: 1
        maximum: 500
    skip:
      name: $skip
      in: query
      description: Number of results to skip for pagination
      schema:
        type: integer
        minimum: 0
    count:
      name: $count
      in: query
      description: Include total count in response
      schema:
        type: boolean
    expand:
      name: $expand
      in: query
      description: Expand related entities
      schema:
        type: string

  schemas:
    ODataResponse:
      type: object
      properties:
        "@odata.context":
          type: string
          description: OData metadata context URL
        "@odata.count":
          type: integer
          description: Total count of matching results (when $count=true)
        value:
          type: array
          items:
            type: object
          description: Array of result entities

    UnitsResponse:
      type: object
      properties:
        "@odata.context":
          type: string
        "@odata.count":
          type: integer
        value:
          type: array
          items:
            $ref: '#/components/schemas/Unit'

    Unit:
      type: object
      properties:
        UnitId:
          type: integer
        ComplexId:
          type: integer
        ComplexName:
          type: string
        SectionId:
          type: integer
          nullable: true
        SectionName:
          type: string
        RealEstateObjectId:
          type: integer
        Reference:
          type: string
        DisplayName:
          type: string
        Name:
          type: string
          nullable: true
        DisplayAddress:
          type: string
        CategoryId:
          type: integer
        CategoryName:
          type: string
        OwnerId:
          type: integer
        Owner:
          type: string
        RawFloorArea:
          type: number
          nullable: true
        RentableFloorArea:
          type: number
          nullable: true
        NumberOfManagedRentableObjects:
          type: integer
        NumberOfRentedObjects:
          type: integer
        OccupationPercentage:
          type: number
          description: 1.0 = fully occupied, less than 1.0 = partially/fully vacant
        UnderManagementSince:
          type: string
          format: date
          nullable: true
        SalesDate:
          type: string
          format: date
          nullable: true
        EnergyIndex:
          type: number
          nullable: true
        EnergyLabel:
          type: string
          nullable: true
        ActiveContractRentId:
          type: integer
          nullable: true
        ActiveContractRentTenantId:
          type: integer
          nullable: true
        ManagementState:
          type: string
        AddressId:
          type: integer
